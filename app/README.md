# SOLID Local File Manager - Web Application

This is the web application component of the SOLID Local File Manager project. It's built with SolidJS and interacts with a local Community Solid Server instance.

## Setup

1. Install dependencies:
```bash
npm install
```

2. Start the development server:
```bash
npm run dev
```

3. Open http://localhost:5173 in your browser

## Working with Solid Authentication and WebID

### Authentication Flow

This application uses the Inrupt Solid Client libraries to handle authentication with the Solid server. The authentication flow is as follows:

1. **Login Process**:
   - The application redirects to the Solid identity provider (http://localhost:3000)
   - The user logs in with their credentials
   - After successful authentication, the user is redirected back to the application with an authentication code
   - The application exchanges this code for access and refresh tokens
   - The application can now make authenticated requests to the Solid server

2. **Using Your Local WebID**:
   - For development, use the WebID generated by your local Community Solid Server
   - This WebID is typically in the format: `http://localhost:3000/[pod-name]/profile/card#me`
   - The application will automatically use this WebID for authentication and authorization

3. **Session Management**:
   - The application stores the authentication session in memory
   - When the page is refreshed, the application will attempt to restore the session
   - If the session has expired, the user will need to log in again

### Interacting with Pods

Once authenticated, the application can interact with the user's Pod:

1. **Reading Data**:
   - The application can read containers and resources from the Pod
   - It uses content-type negotiation to handle different types of resources

2. **Writing Data**:
   - The application can create new containers and resources
   - It can update existing resources
   - It can delete containers and resources

3. **Access Control**:
   - The application respects the access control rules defined in the Pod
   - By default, the user has full access to their own Pod

## Development Guidelines

1. **Always use the local WebID for development**:
   - This avoids CORS issues and simplifies the development process
   - The local WebID is automatically configured with the correct permissions

2. **Test with a fresh Pod**:
   - Create a new Pod for testing to ensure a clean environment
   - This helps isolate issues and prevents conflicts with existing data

3. **Check server logs for authentication issues**:
   - If you encounter authentication problems, check the Community Solid Server logs
   - Look for errors related to WebID verification or token validation

4. **Use the browser's developer tools**:
   - Monitor network requests to debug API calls
   - Check for CORS errors in the console
   - Inspect the application state using the React DevTools

## Building for Production

```bash
npm run build
```

This will create a production-ready build in the `dist` directory.

```bash
$ npm install # or pnpm install or yarn install
```

### Learn more on the [Solid Website](https://solidjs.com) and come chat with us on our [Discord](https://discord.com/invite/solidjs)

## Available Scripts

In the project directory, you can run:

### `npm run dev` or `npm start`

Runs the app in the development mode.<br>
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits.<br>

### `npm run build`

Builds the app for production to the `dist` folder.<br>
It correctly bundles Solid in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.<br>
Your app is ready to be deployed!

## Deployment

You can deploy the `dist` folder to any static host provider (netlify, surge, now, etc.)
